(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-login"],{"244a":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".container[data-v-49a69ab2]{padding:30px}.title[data-v-49a69ab2]{text-align:center;font-size:20px;padding:20px 0}.desc[data-v-49a69ab2]{padding:10px 0;font-size:14px;line-height:22px;color:#999}.form uni-input[data-v-49a69ab2]{height:40px;border:solid 1px #ddd;text-indent:10px}.form uni-input[data-v-49a69ab2],\r\n.form uni-button[data-v-49a69ab2]{width:100%;margin-bottom:10px}",""])},"46ae":function(t,n,e){var a=e("244a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("52f00d31",a,!0,{sourceMap:!1,shadowMode:!1})},"5d0c":function(t,n,e){"use strict";(function(t){var a=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=a(e("795b")),i={data:function(){return{userId:this.$store.state.user.userId||"",password:this.$store.state.user.password||""}},computed:{isDark:function(){return this.$store.state.others.isDark}},methods:{signUp:function(){var n=this,e=this.userId,a=this.password;e.length<6||a.length<6?uni.showModal({content:"用户名密码长度均不能小于6",showCancel:!1}):(uni.showLoading({title:"注册中..."}),t.callFunction({name:"signUp",data:{userId:e,password:a}}).then(function(t){if(uni.hideLoading(),0!==t.result.status)return s.default.reject(new Error(t.result.msg));uni.setStorageSync("token",t.result.token),uni.showToast({title:"注册成功"}),n.$setUser(t.result.user),uni.navigateBack()}).catch(function(t){uni.hideLoading(),uni.showModal({content:"注册失败，"+t.message,showCancel:!1})}))},signIn:function(){var n=this,e=this.userId,a=this.password;e.length<6||a.length<6?uni.showModal({content:"用户名密码长度均不能小于6",showCancel:!1}):(uni.showLoading({title:"登录中..."}),t.callFunction({name:"signIn",data:{userId:e,password:a}}).then(function(t){if(uni.hideLoading(),0!==t.result.status)return s.default.reject(new Error(t.result.msg));uni.setStorageSync("token",t.result.token),uni.showToast({title:"登录成功"}),n.$setUser(t.result.user),uni.navigateBack()}).catch(function(t){uni.hideLoading(),uni.showModal({content:"登录失败，"+t.message,showCancel:!1})}))},validateToken:function(){uni.showLoading({title:"加载中"}),t.callFunction({name:"validateToken",data:{token:this.$store.state.user.token}}).then(function(t){uni.hideLoading(),uni.showModal({content:t.result.msg,showCancel:!1})}).catch(function(t){uni.showModal({content:"请求云函数发生错误，"+t.message,showCancel:!1})})}}};n.default=i}).call(this,e("a9ff")["default"])},7629:function(t,n,e){"use strict";e.r(n);var a=e("5d0c"),s=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);n["default"]=s.a},b495:function(t,n,e){"use strict";e.r(n);var a=e("f5ea"),s=e("7629");for(var i in s)"default"!==i&&function(t){e.d(n,t,function(){return s[t]})}(i);e("c457");var o,u=e("f0c5"),r=Object(u["a"])(s["default"],a["b"],a["c"],!1,null,"49a69ab2",null,!1,a["a"],o);n["default"]=r.exports},c457:function(t,n,e){"use strict";var a=e("46ae"),s=e.n(a);s.a},f5ea:function(t,n,e){"use strict";var a,s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{class:[t.isDark?"dark":"light"]},[e("cu-custom",{attrs:{bgColor:t.isDark?"bg-black":"bg-gradual-green",isBack:!0}},[e("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),e("template",{attrs:{slot:"content"},slot:"content"},[t._v("登录注册")])],2),e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"title"},[e("v-uni-text",[t._v("登录")])],1),e("v-uni-view",{staticClass:"form"},[e("v-uni-input",{attrs:{type:"text",value:"",placeholder:"用户ID"},model:{value:t.userId,callback:function(n){t.userId=n},expression:"userId"}}),e("v-uni-input",{attrs:{type:"text",value:"",placeholder:"密码",password:"true"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}}),e("v-uni-button",{attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.signIn.apply(void 0,arguments)}}},[t._v("登录")]),e("v-uni-button",{attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.signUp.apply(void 0,arguments)}}},[t._v("注册")])],1)],1)],1)},i=[];e.d(n,"b",function(){return s}),e.d(n,"c",function(){return i}),e.d(n,"a",function(){return a})}}]);